<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Library</title>
    <link rel="stylesheet" href="/css/search/bookRequest-style.css">
    <link rel="stylesheet" href="/css/common/sideMenu.css">
    <link rel="stylesheet" href="/css/main-style.css">
    <link rel="stylesheet" href="/css/board/reviewList-style.css">
</head>
<body>
<!-- Header Include -->
<div th:replace="~{common/header :: header}"></div>

<section class="main">
    <!-- Side Menu Include -->
    <div th:replace="~{intro/sideMenu :: sideMenu}"></div>

    <section class="main-content">
        <div class="main-title">신청 내역</div>
        <hr class="titleLine" />
        <section class="body-content">
            <section class="board-list">
                <div class="list-wrapper">
                    <table class="list-table">
                        <thead>
                        <tr>
                            <th>번호</th>
                            <th>제목</th>
                            <th>작성자</th>
                            <th>작성일</th>
                            <th>승인여부</th>
                        </tr>
                        </thead>

                        <tbody>
                        <!-- Check if reqList is empty -->
                        <th:block th:if="${#lists.isEmpty(reqList)}">
                            <tr>
                                <th colspan="5">게시글이 존재하지 않습니다.</th>
                            </tr>
                        </th:block>

                        <!-- Iterate through reqList -->
                        <th:block th:unless="${#lists.isEmpty(reqList)}">
                            <th:block th:each="request : ${reqList}">
                                <tr>
                                    <td th:text="${request.requestNo}"></td>
                                    <td><a th:href="@{/book/2/1/{requestNo}(requestNo=${request.requestNo})}?cp=${pagination.currentPage}" th:text="${request.requestTitle}"></a></td>
                                    <td th:text="${#strings.substring(request.memberName, 0, 1)} + '*' + ${#strings.substring(request.memberName, 2)}"></td>
                                    <td th:text="${request.requestDate}"></td>
                                    <td>
                                        <span th:if="${request.requestApprove == 'W'}">대기중</span>
                                        <span th:if="${request.requestApprove == 'Y'}">승인</span>
                                        <span th:if="${request.requestApprove == 'N'}">거절</span>
                                    </td>
                                </tr>
                            </th:block>
                        </th:block>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
<!--                <th:block th:if="${pagination.listCount > 0}">-->
<!--                    <div class="pagination-area">-->
<!--                        <ul class="pagination">-->
<!--                            <li><a th:href="@{/book/2/1(cp=1)}">&lt;&lt;</a></li>-->
<!--                            <li><a th:href="@{/book/2/1(cp=${pagination.prevPage})}">&lt;</a></li>-->
<!--                            <th:block th:each="i : ${#numbers.sequence(pagination.startPage, pagination.endPage)}">-->
<!--                                <th:block th:if="${i == pagination.currentPage}">-->
<!--                                    <li><a class="current" th:text="${i}"></a></li>-->
<!--                                </th:block>-->
<!--                                <th:block th:if="${i != pagination.currentPage}">-->
<!--                                    <li><a th:href="@{/book/2/1(cp=${i})}" th:text="${i}"></a></li>-->
<!--                                </th:block>-->
<!--                            </th:block>-->
<!--                            <li><a th:href="@{/book/2/1(cp=${pagination.nextPage})}">&gt;</a></li>-->
<!--                            <li><a th:href="@{/book/2/1(cp=${pagination.maxPage})}">&gt;&gt;</a></li>-->
<!--                        </ul>-->
<!--                    </div>-->
<!--                </th:block>-->

                <!-- Button Area -->
                <th:block th:if="${loginMember != null}">
                    <div class="btn-area">
                        <button id="writeBtn" th:onclick="|location.href='/book/2/2/'|">신청</button>
                    </div>
                </th:block>
            </section>
        </section>
    </section>
</section>

<!-- Footer Include -->
<div th:replace="~{common/footer :: footer}"></div>
</body>
</html>
